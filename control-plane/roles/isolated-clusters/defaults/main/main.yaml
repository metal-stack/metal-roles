---
isolated_clusters_virtual_garden_kubeconfig: "{{ lookup('k8s', api_version='v1', kind='Secret', namespace='garden', resource_name='garden-kubeconfig-for-admin').get('data', {}).get('kubeconfig') | b64decode }}"

isolated_clusters_ntp_image_name: ghcr.io/mwennrich/chrony
isolated_clusters_ntp_image_tag:
isolated_clusters_ntp_namespace: ntp-service

isolated_clusters_dns_image_name: coredns/coredns
isolated_clusters_dns_image_tag:
isolated_clusters_dns_namespace: dns-service

isolated_clusters_ingress_controller_namespace: ingress
isolated_clusters_ingress_controller_chart_version:
isolated_clusters_ingress_controller_chroot: true
isolated_clusters_ingress_controller_load_balancer_ip:
isolated_clusters_ingress_controller_load_balancer_source_ranges:

isolated_clusters_group_label: "{{ metal_control_plane_stage_name }}"
isolated_clusters_partition_services_cluster: []

isolated_clusters_registry_namespace: registry
isolated_clusters_registry_oci_mirror_image_name: "ghcr.io/metal-stack/oci-mirror"
isolated_clusters_registry_oci_mirror_image_tag:
isolated_clusters_registry_storage_size: "100Gi"
isolated_clusters_registry_storage_class_name:
isolated_clusters_registry_ingress_fqdn:
isolated_clusters_registry_ingress_annotations: {}
isolated_clusters_registry_oci_mirror_config:
  images:
    - source: docker.io/fluent/fluentd
      destination: http://registry:5000/fluent/fluentd
      match:
        semver: ">= v1.12"
    - source: quay.io/calico/cni
      destination: http://registry:5000/calico/cni
      match:
        semver: ">= v3.25.0"
    - source: quay.io/calico/node
      destination: http://registry:5000/calico/node
      match:
        semver: ">= v3.25.0"
    - source: docker.lightbitslabs.com/lightos-csi/lb-csi-plugin
      destination: http://registry:5000/lightos-csi/lb-csi-plugin
      match:
        semver: ">= 1.14.0"
    - source: docker.lightbitslabs.com/lightos-csi/lb-nvme-discovery-client
      destination: http://registry:5000/lightos-csi/lb-nvme-discovery-client
      match:
        semver: ">= 1.14.0"
    - source: eu.gcr.io/gardener-project/hyperkube
      destination: http://registry:5000/gardener-project/hyperkube
      match:
        semver: ">= v1.27.8"
    - source: europe-docker.pkg.dev/gardener-project/releases/hyperkube
      destination: http://registry:5000/gardener-project/releases/hyperkube
      match:
        semver: ">= v1.27.10"
    - source: eu.gcr.io/gardener-project/3rd/alpine
      destination: http://registry:5000/gardener-project/3rd/alpine
      match:
        semver: ">= 3.15.8"
    - source: eu.gcr.io/gardener-project/3rd/coredns/coredns
      destination: http://registry:5000/gardener-project/3rd/coredns/coredns
      match:
        semver: ">= 1.10.0"
    - source: eu.gcr.io/gardener-project/3rd/envoyproxy/envoy-distroless
      destination: http://registry:5000/gardener-project/3rd/envoyproxy/envoy-distroless
      match:
        semver: ">= v1.24.1"
    - source: eu.gcr.io/gardener-project/gardener/apiserver-proxy
      destination: http://registry:5000/gardener-project/gardener/apiserver-proxy
      match:
        semver: ">= v0.12.0"
    - source: eu.gcr.io/gardener-project/gardener/vpn-shoot-client
      destination: http://registry:5000/gardener-project/gardener/vpn-shoot-client
      match:
        semver: ">= 0.16.0"
    - source: ghcr.io/metal-stack/metallb-health-sidecar
      destination: http://registry:5000/metal-stack/metallb-health-sidecar
      match:
        semver: ">= v0.1.1"
    - source: quay.io/metallb/controller
      destination: http://registry:5000/metallb/controller
      match:
        semver: ">= v0.10.3"
    - source: quay.io/metallb/speaker
      destination: http://registry:5000/metallb/speaker
      match:
        semver: ">= v0.10.3"
    - source: quay.io/prometheus/blackbox-exporter
      destination: http://registry:5000/prometheus/blackbox-exporter
      match:
        semver: ">= v0.23.0"
    - source: quay.io/prometheus/node-exporter
      destination: http://registry:5000/prometheus/node-exporter
      match:
        semver: ">= v1.5.0"
    - source: registry.k8s.io/pause
      destination: http://registry:5000/pause
      match:
        semver: ">= 3.6"
    - source: registry.k8s.io/cpa/cpvpa
      destination: http://registry:5000/cpa/cpvpa
      match:
        semver: ">= v0.8.4"
    - source: registry.k8s.io/kube-proxy
      destination: http://registry:5000/kube-proxy
      match:
        semver: ">= v1.27.8"
    - source: registry.k8s.io/metrics-server/metrics-server
      destination: http://registry:5000/metrics-server/metrics-server
      match:
        semver: ">= v0.6.3"
    - source: registry.k8s.io/node-problem-detector/node-problem-detector
      destination: http://registry:5000/node-problem-detector/node-problem-detector
      match:
        semver: ">= v0.8.13"
    - source: registry.k8s.io/sig-storage/csi-attacher
      destination: http://registry:5000/sig-storage/csi-attacher
      match:
        semver: ">= v4.4.0"
    - source: registry.k8s.io/sig-storage/csi-node-driver-registrar
      destination: http://registry:5000/sig-storage/csi-node-driver-registrar
      match:
        semver: ">= v2.9.0"
    - source: registry.k8s.io/sig-storage/csi-provisioner
      destination: http://registry:5000/sig-storage/csi-provisioner
      match:
        semver: ">= v3.6.0"
    - source: registry.k8s.io/sig-storage/csi-resizer
      destination: http://registry:5000/sig-storage/csi-resizer
      match:
        semver: ">= v1.9.0"
    - source: registry.k8s.io/sig-storage/csi-snapshotter
      destination: http://registry:5000/sig-storage/csi-snapshotter
      match:
        semver: ">= v6.3.0"
    - source: registry.k8s.io/sig-storage/snapshot-controller
      destination: http://registry:5000/sig-storage/snapshot-controller
      match:
        semver: ">= v6.3.0"
    - source: r.metal-stack.io/csi-lvm-controller
      destination: http://registry:5000/csi-lvm-controller
      match:
        semver: ">= v0.7.0"
    - source: r.metal-stack.io/csi-lvm-provisioner
      destination: http://registry:5000/csi-lvm-provisioner
      match:
        semver: ">= v0.7.0"
    - source: r.metal-stack.io/droptailer
      destination: http://registry:5000/droptailer
      match:
        semver: ">= v0.2.12"
    - source: r.metal-stack.io/node-init
      destination: http://registry:5000/node-init
      match:
        semver: ">= v0.1.4"

